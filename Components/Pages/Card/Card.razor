@page "/card"
@inject IJSRuntime JSRuntime
@rendermode InteractiveServer
<div class="p-2 contentCard ">
    <section id="cardSection" class="cardSection"
    style="background-color: #f13636; 
    color: #ffffff; text-align: center; border-radius: 15px;  max-width: 1200px;
    position: relative; overflow: hidden;">
        <img 
        class="florest w-25" 
        style="position: absolute; bottom: 0; opacity: 0.5; z-index: 1; left: 50%; 
        transform: translateX(-50%);" src="imgs/florest.png">
        <div style="z-index: 2; position: relative; padding: 20px; " id="boxcard">
            <h1 style="font-size: 2em; margin-bottom: 20px;">Feliz Natal!</h1>
            <p style="font-size: 1.5em;">Desejamos a você um Natal cheio de amor e um Ano Novo repleto de alegrias!</p>
        </div>
    </section>
</div>
 <div class="p-2">
    <textarea id="mensagem" style="
    width: 100%;
    height: 100px;
    margin-top: 20px;
    padding: 10px;
    font-family: Arial, sans-serif;
    font-size: 16px;
    border: 1px solid #ccc;
    box-sizing: border-box;
    border-radius: 5px;
     resize: none;
" placeholder="Digite sua mensagem aqui..."></textarea>


    <button @onclick="AddMessageToCard" style="background-color: #ffffff; color: #111; 
    padding: 10px 20px; margin-top: 20px; border: none; border-radius: 5px; cursor: pointer;">Adicionar Mensagem</button>
</div>

<div
    <button @onclick="DownloadCard" style="background-color: #ffffff; color: #111; 
    padding: 10px 20px; margin-top: 20px; border: none; border-radius: 5px; cursor: pointer;">Baixar Cartão</button>
</div>

@code {
    private async Task DownloadCard()
    {
        await JSRuntime.InvokeVoidAsync("downloadCard", "section");
    }
    private async Task AddMessageToCard()
    {
      
        await JSRuntime.InvokeVoidAsync("addMessageToCard", "boxcard", "mensagem");
    }

}
